<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />
    <title>CRUD</title>
  </head>
  <h1>Listagem de Pessoas</h1>
  <p><a href="/inserir.html">INSERIR NOVA PESSOA</a></p>

  <script>
    const url = '/pessoa/listar';
  
    fetch(url)
      .then((response) => {
        return response.json();
      })
      .then((data) => {
        let pessoas = data;
        let saida = '';
        pessoas.map(function(pessoa) {
          saida += '<strong> '+ `${pessoa.nome}` + '</strong> ' + `${pessoa.cargo}`  + ' - ' +  `<img src = "${pessoa.foto}">`;
          saida += ' - <a href="/atualizar.html?cod_pessoa='+`${pessoa.cod_pessoa}`+'">EDITAR</a>';
          saida += ' | <a href="/pessoa/remover?cod_pessoa='+`${pessoa.cod_pessoa}`+'">REMOVER</a></br>';
        });
        document.getElementById('resultado').innerHTML = saida;
      })
      .catch(function(error) {
        console.log(error);
      });
      

  </script>

  <body>
    <div id="resultado"></div>
  </body>
</html>